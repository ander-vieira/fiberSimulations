function sigmaabs = sigmaabs_C6(lambda)
%SIGMAABS_C6 Summary of this function goes here
%   Detailed explanation goes here

referenceLambda = 379e-9;
referenceSigma = 6.9e-23;

% rawdata = [               % primera columna lambda (nm), segunda columna sigma emisión sin normalizar (a.u.)    
%     230        0
%     235        0
%     237.18  0
%     249.38  0
%   221.67            0
%        380.23            0
%           384   1.3381e-22
%        387.04   3.5184e-22
%        390.07   7.5779e-22
%        396.88   3.0041e-21
%        401.04   4.8175e-21
%        406.72   6.6849e-21
%        411.26   8.2547e-21
%           418   1.0068e-20
%           427   1.2044e-20
%        435.86   1.3722e-20
%        439.26   1.4263e-20
%        441.53   1.4452e-20
%        444.94   1.4561e-20
%         449.1   1.4588e-20
%        452.13   1.4506e-20
%        456.67   1.4452e-20
%         459.7   1.4506e-20
%        462.72   1.4669e-20
%           465   1.4777e-20
%        467.27   1.4777e-20
%        469.16   1.4723e-20
%        471.81   1.4425e-20
%        475.21   1.3316e-20
%        479.75   1.0744e-20
%        484.67   7.3073e-21
%        488.46   4.4385e-21
%        491.86   2.1651e-21
%        495.65   1.0014e-21
%         498.3   5.9542e-22
%        499.81   4.0597e-22
%        502.08   2.1651e-22
%           506   1.0035e-22
%        516.46            0
%        699.62            0
%     752               0
%     753               0
%     754               0
%     755               0
%     ];

rawdata = [               % primera columna lambda (nm), segunda columna sigma emisión sin normalizar (a.u.)  
    245                      0
    248                      0
    250.587365591398         0.113057324840765
    252.603494623656         0.20859872611465
    254.283602150538         0.291401273885351
    256.635752688172         0.412420382165605
    261.123110151188         0.7
    264.362850971922         0.725806451612903
    267.062634989201         0.758064516129032
    270.302375809935         0.783870967741936
    273.002159827214         0.787096774193549
    276.241900647948         0.77741935483871
    278.941684665227         0.738709677419355
    282.181425485961         0.635483870967742
    285.961123110151         0.535483870967742
    288.120950323974         0.438709677419355
    291.360691144708         0.280645161290323
    295.140388768899         0.161290322580646
    297.300215982721         0.129032258064517
    299.460043196544         0.112903225806452
    302.159827213823         0.109677419354839
    306.479481641469         0.116129032258065
    312.419006479482         0.148387096774194
    318.358531317495         0.180645161290323
    324.838012958963         0.225806451612904
    334.557235421166         0.319354838709678
    346.976241900648         0.458064516129032
    355.075593952484         0.541935483870968
    362.095032397408         0.609677419354839
    371.274298056156         0.658064516129032
    382.07343412527          0.696774193548387
    390.712742980562         0.745161290322581
    398.272138228942         0.819354838709678
    404.211663066955         0.909677419354839
    415.010799136069         1.15483870967742
    425.269978401728         1.44516129032258
    432.829373650108         1.61612903225806
    441.4686825054           1.79354838709677
    448.488120950324         1.89032258064516
    451.727861771058         1.91935483870968
    454.999999999999         1.9258064516129
    458.747300215983         1.90645161290323
    463.606911447084         1.84516129032258
    471.70626349892          1.66451612903226
    481.965442764579         1.43870967741936
    488.444924406048         1.23870967741935
    496.004319654428         0.912903225806452
    504.103671706264         0.551612903225807
    514.902807775378         0.229032258064516
    520.302375809935         0.125806451612903
    526.241900647948         0.0677419354838711
    531.10151187905          0.0322580645161291
    538.120950323974         0.0193548387096776
    552.159827213823         0.01
    576.457883369331         0.01
    578                      0
    580                      0];

rawdata(:,2) = rawdata(:,2)*0.60632;
rawdata(:,2) = rawdata(:,2)*0.739e-20;
rawlambdas = rawdata(:, 1)*1e-9;
rawvalues = rawdata(:, 2);

% rawvalues = rawvalues*referenceSigma/spline(rawlambdas, rawvalues, referenceLambda);

sigmaabs = spline(rawlambdas, rawvalues, lambda);

sigmaabs = sigmaabs.*(sigmaabs>=0).*(lambda>=min(rawlambdas)).*(lambda<=max(rawlambdas));

end

